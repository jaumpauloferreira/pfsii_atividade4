{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaop\\\\Desktop\\\\projeto_3\\\\atividadepfsii__2\\\\frontend\\\\src\\\\meusComponentes\\\\busca\\\\CaixaSelecao.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Container, Col, Form, Row, Spinner } from \"react-bootstrap\";\n\n//Depende de componentes estilizados pelo bootstrap\n//endereFonteDados: informa qual a url que a caixa de seleção utilizará para recuperar os dados\n//campoChave: Nos dados, qual campo é a chave primária\n//campoExibicao: Qual coluna deve ser exibida pela caixa de seleção\n//funcaoSelecao : Que é a função que receberá o objeto selecionado pelo usuário\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CaixaSelecao(_ref) {\n  _s();\n  let {\n    enderecoFonteDados,\n    campoChave,\n    campoExibicao,\n    funcaoSelecao,\n    localLista\n  } = _ref;\n  const [valorSelecionado, setValorSelecionado] = useState({\n    [campoChave]: 0,\n    [campoExibicao]: \"Não foi possível obter os dados do backend\"\n  });\n  const [carregandoDados, setCarregandoDados] = useState(false);\n  const [dados, setDados] = useState([]);\n  useEffect(() => {\n    try {\n      setCarregandoDados(true);\n      fetch(enderecoFonteDados, {\n        method: \"GET\"\n      }).then(resposta => {\n        if (resposta.ok) {\n          //código 200\n          return resposta.json();\n        } else {\n          return [{\n            [campoChave]: 0,\n            [campoExibicao]: \"Não foi possível obter os dados do backend\"\n          }];\n        }\n      }).then(listaDados => {\n        setCarregandoDados(false);\n        if (localLista) {\n          setDados(listaDados[localLista]);\n        } else {\n          setDados(listaDados);\n        }\n        //lembrar que a minha caixa de seleção possui um valor previamente selecionado\n        if (listaDados.length > 0) {\n          setValorSelecionado(listaDados[0]);\n          funcaoSelecao(listaDados[0]);\n        }\n      });\n    } catch (erro) {\n      setCarregandoDados(false);\n      setDados([{\n        [campoChave]: 0,\n        [campoExibicao]: \"Não foi possível obter os dados do backend: \" + erro.message\n      }]);\n    }\n  }, []); //willMount\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    border: true,\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 11,\n        children: /*#__PURE__*/_jsxDEV(Form.Select, {\n          onChange: evento => {\n            const itemSelecionado = evento.currentTarget.value;\n            //ValorSelecionado e funcaoSelecao esperam objetos da lista\n            //gerando uma lista somente de ids, cpfs, codigo\n            const pos = dados.map(item => item[campoChave].toString()).indexOf(itemSelecionado);\n            setValorSelecionado(dados[pos]);\n            funcaoSelecao(dados[pos]);\n          },\n          children: dados === null || dados === void 0 ? void 0 : dados.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item[campoChave],\n              children: item[campoExibicao]\n            }, item[campoChave], false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 40\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 1,\n        children: /*#__PURE__*/_jsxDEV(Spinner, {\n          className: carregandoDados ? \"visible\" : \"invisible\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n_s(CaixaSelecao, \"2cT2wCQZcyYPn3Z/G8hr1pdKvu4=\");\n_c = CaixaSelecao;\nvar _c;\n$RefreshReg$(_c, \"CaixaSelecao\");","map":{"version":3,"names":["useEffect","useState","Container","Col","Form","Row","Spinner","jsxDEV","_jsxDEV","CaixaSelecao","_ref","_s","enderecoFonteDados","campoChave","campoExibicao","funcaoSelecao","localLista","valorSelecionado","setValorSelecionado","carregandoDados","setCarregandoDados","dados","setDados","fetch","method","then","resposta","ok","json","listaDados","length","erro","message","border","children","md","Select","onChange","evento","itemSelecionado","currentTarget","value","pos","map","item","toString","indexOf","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["C:/Users/joaop/Desktop/projeto_3/atividadepfsii__2/frontend/src/meusComponentes/busca/CaixaSelecao.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Container, Col, Form, Row, Spinner } from \"react-bootstrap\";\n\n//Depende de componentes estilizados pelo bootstrap\n//endereFonteDados: informa qual a url que a caixa de seleção utilizará para recuperar os dados\n//campoChave: Nos dados, qual campo é a chave primária\n//campoExibicao: Qual coluna deve ser exibida pela caixa de seleção\n//funcaoSelecao : Que é a função que receberá o objeto selecionado pelo usuário\nexport default function CaixaSelecao({ enderecoFonteDados,\n    campoChave,\n    campoExibicao,\n    funcaoSelecao,\n    localLista }) {\n    const [valorSelecionado, setValorSelecionado] = useState({\n        [campoChave]: 0,\n        [campoExibicao]:\"Não foi possível obter os dados do backend\"\n    });\n    const [carregandoDados, setCarregandoDados] = useState(false);\n    const [dados, setDados] = useState([]);\n\n    useEffect(() => {\n        try {\n            setCarregandoDados(true);\n            fetch(enderecoFonteDados, { method: \"GET\" }).then((resposta) => {\n                if (resposta.ok) {  //código 200\n                    return resposta.json();\n                }\n                else {\n                    return ([{\n                        [campoChave]: 0,\n                        [campoExibicao]:\"Não foi possível obter os dados do backend\"\n                    }\n                    ]);\n                }\n            }).then((listaDados) => {\n                setCarregandoDados(false);\n                if (localLista){\n                    setDados(listaDados[localLista]);\n                }\n                else{\n                    setDados(listaDados);\n                }\n                //lembrar que a minha caixa de seleção possui um valor previamente selecionado\n                if (listaDados.length > 0){\n                   setValorSelecionado(listaDados[0]);\n                   funcaoSelecao(listaDados[0]);     \n                }\n            });\n        } catch(erro){\n            setCarregandoDados(false);\n            setDados([{\n                       [campoChave]: 0,\n                       [campoExibicao]: \"Não foi possível obter os dados do backend: \" + erro.message \n                      }\n                    ]);\n        }\n    }, []);  //willMount\n\n    return (\n        <Container border>\n            <Row>\n                <Col md={11}>\n                    <Form.Select\n                                 onChange={(evento) => {\n                                    const itemSelecionado = evento.currentTarget.value;\n                                    //ValorSelecionado e funcaoSelecao esperam objetos da lista\n                                                //gerando uma lista somente de ids, cpfs, codigo\n                                    const pos = dados.map((item) => item[campoChave].toString()).indexOf(itemSelecionado);\n                                    setValorSelecionado(dados[pos]);\n                                    funcaoSelecao(dados[pos]);\n                                 }}>\n                        {\n                            dados?.map((item) => {\n                                return <option key={item[campoChave]} \n                                               value={item[campoChave]}>\n                                                {item[campoExibicao]}\n                                       </option>\n                            })\n                        }\n                        \n                    </Form.Select>\n                </Col>\n                <Col md={1}>\n                    <Spinner className={carregandoDados ? \"visible\" : \"invisible\"}></Spinner>\n                </Col>\n            </Row>\n        </Container>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}