{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaop\\\\Desktop\\\\Unoeste ADS\\\\6-Sexto Bimestre\\\\Programa\\xE7\\xE3o Full Stack II\\\\Atividade_4\\\\pfsii_atividade4\\\\frontend\\\\src\\\\meusComponentes\\\\busca\\\\BarraBusca.jsx\",\n  _s = $RefreshSig$();\n//Esse é um componente que possui uma aparência para\n//o usuário, onde existe um espaço para o usuário \n//informar seu termo de busca, e esse espaço está\n//cercado por duas imagens, do lado esquerdo o\n//desenho de uma lupa e do lado direito o desenho\n//de um X\n//  _0|João               |X\n//     João\n//     João Pedro\n//     João Silva\n\n//Parte 2 do desenvolvimento da barra de busca consiste em\n//permitir que um item seja selecionado - ok\n//estilizar a barra de busca\n//permitir que esse componente também seja validado pelo formulário em que ele está contido\n\nimport { useState, useRef } from 'react';\nimport { Container, Form } from 'react-bootstrap';\nimport './barraBusca.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BarraBusca(_ref) {\n  _s();\n  let {\n    placeHolder,\n    dados,\n    campoChave,\n    campoBusca,\n    funcaoSelecao,\n    valor\n  } = _ref;\n  //manipula o elemento input\n  const inputBusca = useRef();\n  //definição dos estados do componente\n  const [termoBusca, setTermoBusca] = useState(valor ? valor : \"\");\n  const [dadosLista, setDadosLista] = useState(dados); //dados utilizados para exibir o resultado\n  const [itemSelecionado, setItemSelecionado] = useState(false);\n  function filtrarResultado() {\n    //exige que o termo da busca seja conhecido e que\n    //esse termo seja utilizado como critério de seleção\n    setDadosLista(dados.filter(item => {\n      return termoBusca.length > 1 ? item[campoBusca].toLowerCase().includes(termoBusca.toLowerCase()) : false;\n    }));\n    let componenteResultado = document.querySelector('[data-resultado]');\n    if (dadosLista.length > 0) {\n      componenteResultado.style.display = 'block';\n    } else {\n      componenteResultado.style.display = \"none\";\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"barra\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"16\",\n        height: \"16\",\n        fill: \"currentColor\",\n        className: \"bi bi-search\",\n        viewBox: \"0 0 16 16\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        ref: inputBusca,\n        placeholder: placeHolder,\n        value: termoBusca,\n        required: true,\n        onChange: e => {\n          setTermoBusca(e.target.value.toLowerCase());\n          filtrarResultado();\n          if (!itemSelecionado) {\n            //esse atribuito é utilizado pelo HTML5 para verificar\n            //se os elementos do formulário estão válidos ou não\n            e.target.setAttribute('aria-invalid', true);\n            e.target.setCustomValidity('erro');\n          } else {\n            e.target.removeAttribute('aria-invalid');\n            e.target.setCustomValidity(\"\");\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"16\",\n        height: \"16\",\n        fill: \"currentColor\",\n        className: \"bi bi-x\",\n        viewBox: \"0 0 16 16\",\n        onClick: () => {\n          setTermoBusca('');\n          filtrarResultado();\n          setItemSelecionado(false);\n          funcaoSelecao({});\n          inputBusca.current.setAttribute('aria-invalid', true);\n          inputBusca.current.setCustomValidity(\"erro\");\n        },\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"resultado\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        \"data-resultado\": true,\n        children: dadosLista.map(item => {\n          //ex: cliente campoChave=cpf campoBusca=nome\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => {\n              setTermoBusca(item[campoBusca]);\n              setItemSelecionado(true);\n              funcaoSelecao(item);\n              //informar que o componente está \"limpo\" ou válido\n              inputBusca.current.setCustomValidity(\"\");\n              //deixa de exibir a lista com os resultados\n              let componenteResultado = document.querySelector('[data-resultado]');\n              componenteResultado.style.display = \"none\";\n            },\n            children: item[campoChave] + '-' + item[campoBusca]\n          }, item[campoChave], false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 36\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n_s(BarraBusca, \"4YZB/LcwA/fkWXi/L7cZYqJmjFA=\");\n_c = BarraBusca;\nvar _c;\n$RefreshReg$(_c, \"BarraBusca\");","map":{"version":3,"names":["useState","useRef","Container","Form","jsxDEV","_jsxDEV","BarraBusca","_ref","_s","placeHolder","dados","campoChave","campoBusca","funcaoSelecao","valor","inputBusca","termoBusca","setTermoBusca","dadosLista","setDadosLista","itemSelecionado","setItemSelecionado","filtrarResultado","filter","item","length","toLowerCase","includes","componenteResultado","document","querySelector","style","display","children","className","xmlns","width","height","fill","viewBox","d","fileName","_jsxFileName","lineNumber","columnNumber","Control","type","ref","placeholder","value","required","onChange","e","target","setAttribute","setCustomValidity","removeAttribute","onClick","current","map","_c","$RefreshReg$"],"sources":["C:/Users/joaop/Desktop/Unoeste ADS/6-Sexto Bimestre/Programação Full Stack II/Atividade_4/pfsii_atividade4/frontend/src/meusComponentes/busca/BarraBusca.jsx"],"sourcesContent":["//Esse é um componente que possui uma aparência para\n//o usuário, onde existe um espaço para o usuário \n//informar seu termo de busca, e esse espaço está\n//cercado por duas imagens, do lado esquerdo o\n//desenho de uma lupa e do lado direito o desenho\n//de um X\n//  _0|João               |X\n//     João\n//     João Pedro\n//     João Silva\n\n//Parte 2 do desenvolvimento da barra de busca consiste em\n//permitir que um item seja selecionado - ok\n//estilizar a barra de busca\n//permitir que esse componente também seja validado pelo formulário em que ele está contido\n\nimport { useState, useRef } from 'react';\nimport { Container, Form } from 'react-bootstrap';\nimport './barraBusca.css';\nexport default function BarraBusca({ placeHolder,\n    dados,\n    campoChave,\n    campoBusca,\n    funcaoSelecao,\n    valor }) {\n\n    //manipula o elemento input\n    const inputBusca = useRef();\n    //definição dos estados do componente\n    const [termoBusca, setTermoBusca] = useState(valor ? valor : \"\");\n    const [dadosLista, setDadosLista] = useState(dados); //dados utilizados para exibir o resultado\n    const [itemSelecionado, setItemSelecionado] = useState(false);\n\n    function filtrarResultado() {\n        //exige que o termo da busca seja conhecido e que\n        //esse termo seja utilizado como critério de seleção\n        setDadosLista(dados.filter((item) => {\n            return termoBusca.length > 1 ? item[campoBusca].toLowerCase().includes(termoBusca.toLowerCase()) : false\n        }\n        )\n        );\n        let componenteResultado = document.querySelector('[data-resultado]');\n        if (dadosLista.length > 0) {\n            componenteResultado.style.display = 'block';\n        }\n        else {\n            componenteResultado.style.display = \"none\";\n        }\n\n    }\n\n    return (\n        <Container>\n            <div className='barra'>\n                <svg xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    className=\"bi bi-search\"\n                    viewBox=\"0 0 16 16\">\n                    <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\n                </svg>\n                <Form.Control\n                    type=\"text\"\n                    ref={inputBusca}\n                    placeholder={placeHolder}\n                    value={termoBusca}\n                    required\n                    onChange={e => {\n                        setTermoBusca(e.target.value.toLowerCase());\n                        filtrarResultado();\n                        if (!itemSelecionado) {\n                            //esse atribuito é utilizado pelo HTML5 para verificar\n                            //se os elementos do formulário estão válidos ou não\n                            e.target.setAttribute('aria-invalid', true);\n                            e.target.setCustomValidity('erro');\n                        }\n                        else {\n                            e.target.removeAttribute('aria-invalid');\n                            e.target.setCustomValidity(\"\");\n                        }\n                    }}\n                ></Form.Control>\n                <svg xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    className=\"bi bi-x\"\n                    viewBox=\"0 0 16 16\"\n                    onClick={() => {\n                        setTermoBusca('');\n                        filtrarResultado();\n                        setItemSelecionado(false);\n                        funcaoSelecao({});\n                        inputBusca.current.setAttribute('aria-invalid', true);\n                        inputBusca.current.setCustomValidity(\"erro\");\n                    }}\n                >\n                    <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\n                </svg>\n            </div>\n            <div className='resultado'>\n                <ul data-resultado>\n                    {\n                        dadosLista.map(item => {\n                            //ex: cliente campoChave=cpf campoBusca=nome\n                            return <li key={item[campoChave]}\n                                onClick={() => {\n                                    setTermoBusca(item[campoBusca]);\n                                    setItemSelecionado(true);\n                                    funcaoSelecao(item);\n                                    //informar que o componente está \"limpo\" ou válido\n                                    inputBusca.current.setCustomValidity(\"\");\n                                    //deixa de exibir a lista com os resultados\n                                    let componenteResultado = document.querySelector('[data-resultado]');\n                                    componenteResultado.style.display = \"none\";\n                                }}>\n                                {\n                                    item[campoChave] + '-' + item[campoBusca]\n                                }\n                            </li>\n                        })\n                    }\n                </ul>\n            </div>\n        </Container >\n    );\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}